"use strict";function _classCallCheck(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function s(s,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}(),stickyElements=function(){var s={1:10,2:6.6,3:4.5,4:3.2,5:2.4,6:1.9,7:1.6,8:1.4,9:1.3,10:1.2,0:0},t=function(){function t(s){var i=this,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t),this.el=s,s.addEventListener("mouseenter",function(){return i.onMouseEnter()},!1),s.addEventListener("mouseleave",function(){return i.onMouseLeave()},!1),s.addEventListener("mousemove",function(s){return i.onMouseMove(s)},!1),this.setOpts(e)}return _createClass(t,[{key:"setOpts",value:function(s){this.positions={},this.isGripped=!1,this.stickiness={x:3,y:3},this.grip={x:4,y:4},this.setStickiness(s)}},{key:"setStickiness",value:function(t){"number"==typeof t.stickiness&&(t.stickiness={x:t.stickiness,y:t.stickiness}),t.stickiness||(t.stickiness=this.stickiness),t.stickiness&&!t.stickiness.x&&0!==t.stickiness.x&&(t.stickiness.x=this.stickiness.x),t.stickiness&&!t.stickiness.y&&0!==t.stickiness.y&&(t.stickiness.y=this.stickiness.y),this.stickiness.x=s[Math.min(10,t.stickiness.x)],this.stickiness.y=s[Math.min(10,t.stickiness.y)]}},{key:"getPositions",value:function(s,t){var i=isFinite(s/this.stickiness.x)?s/this.stickiness.x:0,e=isFinite(t/this.stickiness.y)?t/this.stickiness.y:0;return{x:i,y:e}}},{key:"onMouseEnter",value:function(){var s=this.el;this.positions={centerx:s.offsetLeft+s.offsetWidth/2,centery:s.offsetTop+s.offsetHeight/2-document.documentElement.scrollTop}}},{key:"onMouseLeave",value:function(){var s=this.el;animate.stop(s);var t=this.getPositions(this.positions.deltax,this.positions.deltay);this.isGripped&&(animate({el:s,translateX:[t.x,0],translateY:[t.y,0],duration:450}),s.style.position="static",s.style.zIndex="auto"),this.isGripped=!1}},{key:"onMouseMove",value:function(s){var t=this.el;animate.stop(t),this.positions.deltax=-(this.positions.centerx-s.clientX),this.positions.deltay=-(this.positions.centery-s.clientY);var i={x:Math.abs(this.positions.deltax)<t.offsetWidth/this.grip.x,y:Math.abs(this.positions.deltay)<t.offsetHeight/this.grip.y};if(i.x&&i.y&&(this.isGripped=!0),this.isGripped){var e=this.getPositions(this.positions.deltax,this.positions.deltay);t.style.transform="translate("+e.x+"px, "+e.y+"px)",t.style.position="relative",t.style.zIndex=1}}}]),t}();return function(s,i){for(var e=[],n=[].slice.call(document.querySelectorAll(s)),o=0;o<n.length;o++)e.push(new t(n[o],i));return e}}();"undefined"!=typeof module&&module.exports&&(module.exports=stickyElements);