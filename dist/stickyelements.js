var stickyElements=function(){"use strict";var t={};t.classCallCheck=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")},t.createClass=function(){function t(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(s,e,i){return e&&t(s.prototype,e),i&&t(s,i),s}}();var s=function(){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.classCallCheck(this,s),this.el=e,this.setOpts(i),this.setEvents()}return t.createClass(s,[{key:"setOpts",value:function(t){this.pointer=t.pointer,this.positions={},this.isGripped=!1,this.stickiness={},this.grip={x:3,y:4},this.duration=t.duration||450,this.setStickiness(t)}},{key:"setEvents",value:function(){var t=this,s=this.el,e=["enter","leave","move"];s._stickyEvents&&(e.map(function(e){t.pointer?s.removeEventListener("pointer"+e,s._stickyEvents[e],!1):s.removeEventListener("mouse"+e,s._stickyEvents[e],!1)}),s._stickyEvents=void 0),s._stickyEvents={enter:function(s){return t.onEnter(s)},leave:function(s){return t.onLeave(s)},move:function(s){return t.onMove(s)}},e.map(function(e){t.pointer?s.addEventListener("pointer"+e,s._stickyEvents[e],!1):s.addEventListener("mouse"+e,s._stickyEvents[e],!1)})}},{key:"setStickiness",value:function(t){var s={1:10,2:6.6,3:4.5,4:3.2,5:2.4,6:1.9,7:1.6,8:1.4,9:1.3,10:1.2,0:0},e={stickiness:{x:3,y:3}};(t.stickiness||0===t.stickiness)&&("number"==typeof t.stickiness&&(e.stickiness={x:t.stickiness,y:t.stickiness}),(t.stickiness.x||0===t.stickiness.x)&&(e.stickiness.x=t.stickiness.x),(t.stickiness.y||0===t.stickiness.y)&&(e.stickiness.y=t.stickiness.y)),this.stickiness.x=s[Math.min(10,e.stickiness.x)],this.stickiness.y=s[Math.min(10,e.stickiness.y)]}},{key:"getPositions",value:function(){var t=0!==this.stickiness.x?this.positions.deltax/this.stickiness.x:0,s=0!==this.stickiness.y?this.positions.deltay/this.stickiness.y:0;return{posx:t,posy:s}}},{key:"onEnter",value:function(t){this.state="ENTER";var s=this.el,e=s.offsetWidth,i=s.offsetHeight,n=s.offsetLeft,o=s.offsetTop,r=window.pageYOffset||document.documentElement.scrollTop,a={width:e,height:i,centerx:n+e/2,centery:o+i/2-r};this.positions=a,this.isGripped=!1}},{key:"onLeave",value:function(t){if("MOVE"===this.state){this.state="LEAVE";var s=this.el,e=this.getTranslate(s),i=e.x,n=e.y;animate.stop(s),animate({el:s,translateX:[i,0],translateY:[n,0],duration:this.duration}),this.isGripped=!1}}},{key:"onMove",value:function(t){this.state="MOVE";var s=this.el;animate.stop(s);var e=t.clientX,i=t.clientY,n={x:Math.abs(this.positions.deltax)<this.positions.width/this.grip.x,y:Math.abs(this.positions.deltay)<this.positions.height/this.grip.y};if(n.x&&n.y&&(this.isGripped=!0),this.positions.deltax=-(this.positions.centerx-e),this.positions.deltay=-(this.positions.centery-i),this.isGripped){var o=this.getPositions(),r=o.posx,a=o.posy;s.style.transform="translate3d("+r+"px, "+a+"px, 0)"}}},{key:"getTranslate",value:function(t){var s=getComputedStyle(t).transform,e=this.parseMatrix(s);return{x:e.m41,y:e.m42,z:e.m43}}},{key:"parseMatrix",value:function(t){var s=t.split(/\s*[(),]\s*/).slice(1,-1),e=void 0;return e=6===s.length?{m11:+s[0],m21:+s[2],m31:0,m41:+s[4],m12:+s[1],m22:+s[3],m32:0,m42:+s[5],m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}:16===s.length?{m11:+s[0],m21:+s[4],m31:+s[8],m41:+s[12],m12:+s[1],m22:+s[5],m32:+s[9],m42:+s[13],m13:+s[2],m23:+s[6],m33:+s[10],m43:+s[14],m14:+s[3],m24:+s[7],m34:+s[11],m44:+s[15]}:{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}}}]),s}(),e=function(){return function(t,e){for(var i=[],n=[].slice.call(document.querySelectorAll(t)),o=0;o<n.length;o++)i.push(new s(n[o],e));return i}}();return e}();