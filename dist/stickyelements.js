var stickyElements=function(){"use strict";var t={};t.classCallCheck=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},t.createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),t.slicedToArray=function(){function t(t,n){var e=[],r=!0,i=!1,u=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(e.push(s.value),!n||e.length!==n);r=!0);}catch(o){i=!0,u=o}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw u}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.toConsumableArray=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)};var n=function(){var n=function(t){var n=t.length,e=function r(){for(var e=arguments.length,i=Array(e),u=0;e>u;u++)i[u]=arguments[u];return i.length<n?function(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return r.apply(void 0,i.concat(n))}:t.apply(void 0,i)};return e},e=function(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return function(t){return n.reduce(function(t,n){return n(t)},t)}},r=function(t){return function(){return!t.apply(void 0,arguments)}},i={linear:function(t,n,e,r){return n+t/r*e},easeInQuad:function(t,n,e,r){return e*(t/=r)*t+n},easeInCubic:function(t,n,e,r){return e*(t/=r)*t*t+n},easeInQuart:function(t,n,e,r){return e*(t/=r)*t*t*t+n},easeInQuint:function(t,n,e,r){return e*(t/=r)*t*t*t*t+n},easeInSine:function(t,n,e,r){return-e*Math.cos(t/r*(Math.PI/2))+e+n},easeInExpo:function(t,n,e,r){return 0==t?n:e*Math.pow(2,10*(t/r-1))+n},easeInCirc:function(t,n,e,r){return-e*(Math.sqrt(1-(t/=r)*t)-1)+n},easeInElastic:function(t,n,e,r){var i=arguments.length<=4||void 0===arguments[4]?500:arguments[4];if(0==t)return n;if(1==(t/=r))return n+e;var u=e,s=r*(1-Math.min(i,999)/1e3),a=u<Math.abs(e)?s/4:s/(2*Math.PI)*Math.asin(e/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+n},easeInBack:function(t,n,e,r){var i=1.70158;return e*(t/=r)*t*((i+1)*t-i)+n},easeOutQuad:function(t,n,e,r){return-e*(t/=r)*(t-2)+n},easeOutCubic:function(t,n,e,r){return e*((t=t/r-1)*t*t+1)+n},easeOutQuart:function(t,n,e,r){return-e*((t=t/r-1)*t*t*t-1)+n},easeOutQuint:function(t,n,e,r){return e*((t=t/r-1)*t*t*t*t+1)+n},easeOutSine:function(t,n,e,r){return e*Math.sin(t/r*(Math.PI/2))+n},easeOutExpo:function(t,n,e,r){return t==r?n+e:e*(-Math.pow(2,-10*t/r)+1)+n},easeOutCirc:function(t,n,e,r){return e*Math.sqrt(1-(t=t/r-1)*t)+n},easeOutElastic:function(t,n,e,r){var i=arguments.length<=4||void 0===arguments[4]?500:arguments[4];if(0==t)return n;if(1==(t/=r))return n+e;var u=e,s=r*(1-Math.min(i,999)/1e3),a=u<Math.abs(e)?s/4:s/(2*Math.PI)*Math.asin(e/u);return u*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/s)+e+n},easeOutBack:function(t,n,e,r){var i=1.70158;return e*((t=t/r-1)*t*((i+1)*t+i)+1)+n},easeOutBounce:function(t,n,e,r){return(t/=r)<1/2.75?e*(7.5625*t*t)+n:2/2.75>t?e*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?e*(7.5625*(t-=2.25/2.75)*t+.9375)+n:e*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutQuad:function(t,n,e,r){return(t/=r/2)<1?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n},easeInOutCubic:function(t,n,e,r){return(t/=r/2)<1?e/2*t*t*t+n:e/2*((t-=2)*t*t+2)+n},easeInOutQuart:function(t,n,e,r){return(t/=r/2)<1?e/2*t*t*t*t+n:-e/2*((t-=2)*t*t*t-2)+n},easeInOutQuint:function(t,n,e,r){return(t/=r/2)<1?e/2*t*t*t*t*t+n:e/2*((t-=2)*t*t*t*t+2)+n},easeInOutSine:function(t,n,e,r){return-e/2*(Math.cos(Math.PI*t/r)-1)+n},easeInOutExpo:function(t,n,e,r){return 0==t?n:t==r?n+e:(t/=r/2)<1?e/2*Math.pow(2,10*(t-1))+n:e/2*(-Math.pow(2,-10*--t)+2)+n},easeInOutCirc:function(t,n,e,r){return(t/=r/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+n:e/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInOutElastic:function(t,n,e,r){var i=arguments.length<=4||void 0===arguments[4]?500:arguments[4];if(0==t)return n;if(2==(t/=r/2))return n+e;var u=e,s=r*(1-Math.min(i,999)/1e3)*1.5,a=u<Math.abs(e)?s/4:s/(2*Math.PI)*Math.asin(e/u);return 1>t?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*.5+e+n},easeInOutBack:function(t,n,e,r){var i=1.70158;return(t/=r/2)<1?e/2*(t*t*(((i*=1.525)+1)*t-i))+n:e/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+n}},u=function(t){return t[0]},s=function(t){return u(t.slice(-1))},a=function(t){return t.slice(1)},o=function(t){return t.reduce(function(t,n){return t.concat(n)})},c=function(){return Array.prototype.includes?function(t,n){return t.includes(n)}:function(t,n){return t.some(function(t){return t===n})}}(),f=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];var u=o(e);return t.filter(function(t){return r(c)(u,t)})},l=function(){return Array.from?function(t){return Array.from(t.keys())}:function(t){var n=[];return t.forEach(function(t,e){return n.push(e)}),n}}(),h=function(){var t=function(t){var n=new Map;return Object.keys(t).forEach(function(e){return n.set(e,t[e])}),n};return function(n){return n instanceof Map?n:t(n)}}(),m=function(){try{if(!new Map((new Map).set(null,null)).size)throw new Error}catch(t){return function(t){var n=new Map;return t.forEach(function(t,e){return n.set(e,t)}),n}}return function(t){return new Map(t)}}(),v=function(t){return/^#/.test(t)},p=function(t){return/^rgb/.test(t)},g=function(){var n=function(t){return t.length<7?t.split("").reduce(function(t,n){return t+n+n}):t},r=function(t){return t.match(/[\d\w]{2}/g).map(function(t){return parseInt(t,16)})};return function(i){if(p(i))return i;var u=e(n,r)(i),s=t.slicedToArray(u,3),a=s[0],o=s[1],c=s[2];return"rgb("+a+", "+o+", "+c+")"}}(),y=function(t){return M("string"==typeof t?d(t):t)},d=function(t){return/^[\#.]?[\w-]+$/.test(t)?"."==u(t)?document.getElementsByClassName(a(t)):"#"==u(t)?document.getElementById(a(t)):document.getElementsByTagName(t):document.querySelectorAll(t)},M=function(n){return Array.isArray(n)?n:n.nodeType?[n]:n instanceof NodeList||n instanceof HTMLCollection?[].concat(t.toConsumableArray(n)):n.get()},k=new Map;["el","delay","begin","complete","each","loop","direction"].forEach(function(t){return k.set(t,null)}),k.set("duration",1e3),k.set("easing","easeOutElastic");var E=function(){var t=l(k).filter(function(t){return k.get(t)}),n=function(n){return t.every(function(t){return n.has(t)})},e=function(n){var e=m(n);return t.forEach(function(t){e.has(t)||e.set(t,k.get(t))}),e};return function(t){return n(t)?t:e(t)}}(),w=function(){var t=n(function(t,n){return Array.isArray(t.get(n))}),e=function(n){return S(n).every(t(n))},i=function(n){return S(n).filter(r(t(n)))};return function(t){if(e(t))return t;var n=m(t);return i(n).forEach(function(t){return n.set(t,[_.get(t),n.get(t)])}),n}}(),x=function(){var t=function(t){return/\D$/.test(t)},e=n(function(n,e){return t(e)||/scale/.test(n)?e:/rotate|skew/.test(n)?e+"deg":e+"px"}),r=function(n,e){return e.every(function(e){return n.get(e).every(t)})};return function(t){var n=S(t).filter(Q);if(r(t,n))return t;var i=m(t);return n.forEach(function(n){return i.set(n,t.get(n).map(e(n)))}),i}}(),I=function(){var t=n(function(t,n){return t.get(n).some(v)}),e=function(n){return!q(n).some(t(n))},r=function(n){return q(n).filter(t(n))};return function(t){if(e(t))return t;var n=m(t);return r(t).forEach(function(t){return n.set(t,n.get(t).map(g))}),n}}(),b=function(t){var n=m(t);return n.set("el",y(t.get("el"))),n},A=function(t){var n=m(t);return T(t).forEach(function(t){return n.set(t,n.get(t).slice().reverse())}),n},O=function(t){return"reverse"==t.get("direction")?A(t):t},C=e(h,E,w,x,I,b,O),T=function(){var t=l(k),n=function(n){return r(c)(t,n)};return function(t){return l(t).filter(n)}}(),P=function(){var r=e(u,p),i=n(function(n,e){var i=n.get(e).map(X),u=t.slicedToArray(i,2),s=u[0],a=u[1],o=new Map;if(o.set("prop",e),o.set("from",s),o.set("to",a),o.set("isTransformFunction",Q(e)),o.set("isColor",r(n.get(e))),/\d$/.test(n.get("easing"))){var c=n.get("easing").split(" "),f=t.slicedToArray(c,2),l=f[0],h=f[1];o.set("easing",l),o.set("frequency",h)}else o.set("easing",n.get("easing"));return o});return function(t,n){return T(t).map(i(t))}}(),S=function(){var t=function(t){return c(L,t)};return function(n){return l(n).filter(t)}}(),q=function(t){return f(T(t),S(t))},L=["opacity","translateX","translateY","scale","rotate","scaleX","scaleY","rotateX","rotateY","perspective","skewX","skewY","translateZ","rotateZ","scaleZ"],_=new Map;L.forEach(function(t){return _.set(t,c(["opacity","scale","scaleX","scaleY"],t)?1:0)});var Q=function(){var t=L.filter(function(t){return"opacity"!=t});return function(n){return c(t,n)}}(),Y=function(t){var n=S(t);if(n.length){var e=[];n.some(Q)&&e.push("transform"),c(n,"opacity")&&e.push("opacity");var r=e.join();t.get("el").forEach(function(t){t.style.willChange||(t.style.willChange=r)})}},B=function(t,n){return n.reduce(function(n,e,r){return n+t[r-1]+e})},X=function(){var t=/-?\d*\.?\d+/g,n=function(t){return"string"==typeof t?t:String(t)};return function(e){var r=new Map;return r.set("digits",n(e).match(t).map(Number)),r.set("others",n(e).split(t)),r}}(),j=n(function(t,n,e){var r=e.get("to").get("digits").map(function(r,u){var s=e.get("from").get("digits")[u];if(s==r)return s;var a=r-s,o=i[e.get("easing")](n,s,a,t.get("duration"),e.get("frequency"));return e.get("isColor")?Math.round(o):o});return B(r,e.get("to").get("others"))}),G=n(function(t,n){return s(t.get(n.get("prop")))}),N=function(){var t=void 0;return n(function(n,e,r){var i=void 0;n.forEach(function(t,n){return t.get("isTransformFunction")?(i||(i=[]),void i.push(t.get("prop")+"("+e[n]+")")):"opacity"==t.get("prop")?void(r.style.opacity=e[n]):void r.setAttribute(t.get("prop"),e[n])}),i&&(t||(t="transform"in document.body.style?"transform":"-webkit-transform"),r.style[t]=i.join(" "))})}(),F=function(){var t=function(t,n){n.get("begin")&&n.get("begin")(n.get("el")),requestAnimationFrame(t)};return function(n,e){return e.get("delay")?setTimeout(function(){return t(n,e)},e.get("delay")):t(n,e)}}(),V=function(t,n){n.get("each")&&n.get("each")(t)},Z=function(t,n){D(t),n.get("complete")&&n.get("complete")(n.get("el")),n.get("loop")&&$(n)},$=function(t){return R(function(){if("alternate"==t.get("direction"))return A(t);if("reverse"==t.get("direction")){var n=m(t);return n["delete"]("direction"),n}return t}())},z=new Map,H=function(){var t=0;return function(n){var e=t++,r=m(z);return r.set(e,n),z=r,e}}(),D=function(t){var n=m(z);n["delete"](t),z=n},R=function(t){var n=C(t),e=P(n),r=H(n.get("el")),i=new Map,u=function s(t){if(z.has(r)){i.has("start")||i.set("start",t),i.set("elapsed",t-i.get("start"));var u=i.get("elapsed")<n.get("duration"),a=e.map(u?j(n,i.get("elapsed")):G(n));V(a,n),z.get(r).forEach(N(e,a)),u?requestAnimationFrame(s):Z(r,n)}};Y(n),F(u,n)};return R.stop=function(t){var n=y(t),e=m(z);e.forEach(function(t,r){var i=f(t,n);i.length?e.set(r,i):e["delete"](r)}),z=e},R}(),e=function(){function e(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.classCallCheck(this,e),this.el=n,this.setOpts(r),this.setEvents()}return t.createClass(e,[{key:"setOpts",value:function(t){this.pointer=t.pointer,this.positions={},this.isGripped=!1,this.stickiness={},this.grip={x:3,y:4},this.duration=t.duration||450,this.setStickiness(t)}},{key:"setEvents",value:function(){var t=this,n=this.el,e=["enter","leave","move"];n._stickyEvents&&(e.map(function(e){t.pointer?n.removeEventListener("pointer"+e,n._stickyEvents[e],!1):n.removeEventListener("mouse"+e,n._stickyEvents[e],!1)}),n._stickyEvents=void 0),n._stickyEvents={enter:function(n){return t.onEnter(n)},leave:function(n){return t.onLeave(n)},move:function(n){return t.onMove(n)}},e.map(function(e){t.pointer?n.addEventListener("pointer"+e,n._stickyEvents[e],!1):n.addEventListener("mouse"+e,n._stickyEvents[e],!1)})}},{key:"setStickiness",value:function(t){var n={1:10,2:6.6,3:4.5,4:3.2,5:2.4,6:1.9,7:1.6,8:1.4,9:1.3,10:1.2,0:0},e={stickiness:{x:3,y:3}};(t.stickiness||0===t.stickiness)&&("number"==typeof t.stickiness&&(e.stickiness={x:t.stickiness,y:t.stickiness}),(t.stickiness.x||0===t.stickiness.x)&&(e.stickiness.x=t.stickiness.x),(t.stickiness.y||0===t.stickiness.y)&&(e.stickiness.y=t.stickiness.y)),this.stickiness.x=n[Math.min(10,e.stickiness.x)],this.stickiness.y=n[Math.min(10,e.stickiness.y)]}},{key:"getPositions",value:function(){var t=0!==this.stickiness.x?this.positions.deltax/this.stickiness.x:0,n=0!==this.stickiness.y?this.positions.deltay/this.stickiness.y:0;return{posx:t,posy:n}}},{key:"onEnter",value:function(t){this.state="ENTER";var n=this.el,e=n.offsetWidth,r=n.offsetHeight,i=n.offsetLeft,u=n.offsetTop,s=window.pageYOffset||document.documentElement.scrollTop,a={width:e,height:r,centerx:i+e/2,centery:u+r/2-s};this.positions=a,this.isGripped=!1}},{key:"onLeave",value:function(t){var e=this;"MOVE"===this.state&&!function(){e.state="LEAVE";var t=e.el,r=t._stickyTransforms,i=r.x,u=r.y;n.stop(t),n({el:t,translateX:[i,0],translateY:[u,0],duration:e.duration,each:function(n){t._stickyTransforms={x:n[0],y:n[1]}}}),e.isGripped=!1}()}},{key:"onMove",value:function(t){this.state="MOVE";var e=this.el;n.stop(e);var r=t.clientX,i=t.clientY,u={x:Math.abs(this.positions.deltax)<this.positions.width/this.grip.x,y:Math.abs(this.positions.deltay)<this.positions.height/this.grip.y};if(u.x&&u.y&&(this.isGripped=!0),this.positions.deltax=-(this.positions.centerx-r),this.positions.deltay=-(this.positions.centery-i),this.isGripped){var s=this.getPositions(),a=s.posx,o=s.posy;e._stickyTransforms={x:a,y:o},e.style.transform="translate3d("+a+"px, "+o+"px, 0)"}}},{key:"getTranslate",value:function(t){var n=getComputedStyle(t).transform,e=this.parseMatrix(n);return{x:e.m41,y:e.m42,z:e.m43}}},{key:"parseMatrix",value:function(t){var n=t.split(/\s*[(),]\s*/).slice(1,-1),e=void 0;return e=6===n.length?{m11:+n[0],m21:+n[2],m31:0,m41:+n[4],m12:+n[1],m22:+n[3],m32:0,m42:+n[5],m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}:16===n.length?{m11:+n[0],m21:+n[4],m31:+n[8],m41:+n[12],m12:+n[1],m22:+n[5],m32:+n[9],m42:+n[13],m13:+n[2],m23:+n[6],m33:+n[10],m43:+n[14],m14:+n[3],m24:+n[7],m34:+n[11],m44:+n[15]}:{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}}}]),e}(),r=function(){return function(t,n){for(var r=[],i=[].slice.call(document.querySelectorAll(t)),u=0;u<i.length;u++)r.push(new e(i[u],n));return r}}();return r}();